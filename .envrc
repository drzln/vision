# Vision development environment
# Uses nix flake devShell via direnv

# Fail fast if nix isn't available
if ! has nix; then
  log_error "nix is not installed or not in PATH"
  exit 1
fi

# Use the flake's devShell
use flake

# Optional: Watch additional files for changes
watch_file flake.nix
watch_file flake.lock
watch_file pyproject.toml
watch_file uv.lock

# Layout for local state
layout python

# Project-specific environment
export VISION_ENV="development"
